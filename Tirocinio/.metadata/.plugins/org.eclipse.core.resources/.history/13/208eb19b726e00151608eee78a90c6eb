package it.sp4te.CooperativeSpectrumSensing.GraphGenerator;

import java.util.List;
import static com.googlecode.charts4j.Color.*;
import static com.googlecode.charts4j.UrlUtil.normalize;
import static org.junit.Assert.assertEquals;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.logging.Level;
import java.util.logging.Logger;

import org.junit.BeforeClass;
import org.junit.Test;

import com.googlecode.charts4j.AxisLabels;
import com.googlecode.charts4j.AxisLabelsFactory;
import com.googlecode.charts4j.AxisStyle;
import com.googlecode.charts4j.AxisTextAlignment;
import com.googlecode.charts4j.Color;
import com.googlecode.charts4j.Data;
import com.googlecode.charts4j.Fills;
import com.googlecode.charts4j.GCharts;
import com.googlecode.charts4j.Line;
import com.googlecode.charts4j.LineChart;
import com.googlecode.charts4j.LineStyle;
import com.googlecode.charts4j.LinearGradientFill;
import com.googlecode.charts4j.Plots;
import com.googlecode.charts4j.Shape;

public class GraphGenerator {

	
	public static void drawGraph(ArrayList<Double> snr,ArrayList<Double> detection ){

		
		 Line line1 = Plots.newLine(Data.newData(detection), Color.newColor("CA3D05"), "Energy Detection");
	        line1.setLineStyle(LineStyle.newLineStyle(3, 1, 0));
	        line1.addShapeMarkers(Shape.DIAMOND, Color.newColor("CA3D05"), 12);
	        line1.addShapeMarkers(Shape.DIAMOND, Color.WHITE, 8);
	       
	        LineChart chart = GCharts.newLineChart(line1);
	        chart.setSize(600, 450);
	        chart.setTitle("Energy Detection in Cooperative Spectrum Sensing", WHITE, 14);
	        
	        AxisStyle axisStyle = AxisStyle.newAxisStyle(WHITE, 12, AxisTextAlignment.CENTER);
	        
	        AxisLabels yAxis = AxisLabelsFactory.newNumericRangeAxisLabels(0, 100);
	        yAxis.setAxisStyle(axisStyle);
	        
	        AxisLabels xAxis1 = AxisLabelsFactory.newNumericRangeAxisLabels(-30, 5);
	        xAxis1.setAxisStyle(axisStyle);
	        
	        AxisLabels xAxis3 = AxisLabelsFactory.newAxisLabels("SNR (Decibel)", 50.0);
	        xAxis3.setAxisStyle(AxisStyle.newAxisStyle(WHITE, 14, AxisTextAlignment.CENTER));
	        
	        AxisLabels yAxis3 = AxisLabelsFactory.newAxisLabels("% of Detection", 50.0);
	        yAxis3.setAxisStyle(AxisStyle.newAxisStyle(WHITE, 14, AxisTextAlignment.CENTER));
	        
	        chart.addXAxisLabels(xAxis1);
	        chart.addXAxisLabels(yAxis);
	        chart.addXAxisLabels(xAxis3);
	        chart.addYAxisLabels(yAxis3);
	     
	        chart.setBackgroundFill(Fills.newSolidFill(Color.newColor("1F1D1D")));
	        LinearGradientFill fill = Fills.newLinearGradientFill(0, Color.newColor("363433"), 100);
	        fill.addColorAndOffset(Color.newColor("2E2B2A"), 0);
	        chart.setAreaFill(fill);
	        
	        Logger.global.info(url);
	        String expectedString = "http://chart.apis.google.com/chart?chco=CA3D05,87CEEB&chd=e:AAB4DhEzFxGnHrJRLhOZRmUpXCYZYpYAXCWfXCZIczhmmtrKuE,..-H8e7M6O5Y4U2u0exmuZrWo9nmnWn.o9pgo9m3jMeZZSU1R7&chdl=My+Website.com|Competition.com&chf=bg,s,1F1D1D|c,lg,0,363433,1.0,2E2B2A,0.0&chg=25.0,25.0,3,2&chls=3,1,0|3,1,0&chm=r,FF00004C,0,0.40,0.60|R,0080004C,0,0.70,0.90|d,CA3D05,0,-1,12,0|d,FFFFFF,0,-1,8,0|d,87CEEB,1,-1,12,0|d,FFFFFF,1,-1,8,0&chs=600x450&cht=lc&chts=FFFFFF,14&chtt=Web+Traffic%7C%28in+billions+of+hits%29&chxl=0:||25|50|75|100|1:|Hits|2:|Nov|Dec|Jan|Feb|Mar|3:|2007|2007|2008|2008|2008|4:|Month&chxp=1,50.0|4,50.0&chxr=1,0.0,100.0|4,0.0,100.0&chxs=0,FFFFFF,12,0|1,FFFFFF,12,0|2,FFFFFF,12,0|3,FFFFFF,12,0|4,FFFFFF,14,0&chxt=y,y,x,x,x";
	        assertEquals("Junit error", normalize(expectedString), normalize(url));
	    }
	        
	}
}
