package it.sp4te.CooperativeSpectrumSensing.Detection;

import java.util.ArrayList;

import it.sp4te.CooperativeSpectrumSensing.Functions.MathFunctions;
import it.sp4te.CooperativeSpectrumSensing.Functions.Pr;



public class Threshold {

	//calcolo della soglia del metodo implementato.
	public static double implThreshold(double Pfa,Pr pr) throws Exception{
		double M = MathFunctions.Avarege(pr.getPr());
		double V= MathFunctions.Variance(pr.getPr());

		double soglia=M+ Math.sqrt(2*V)*MathFunctions.InvErf(1-2*Pfa);
		return soglia;
	}
	

	//Calcolo soglia energyDetector
    public static double calcoloSogliaPD(double Pfa,ArrayList<Double> potenza) throws Exception{

    	    double M1 = FunzioniMatematiche.CalcoloMedia(potenza);
    		double V1= FunzioniMatematiche.CalcoloVarianza(potenza);

    		double soglia1=M1+ Math.sqrt(2*V1)*InvErf.InvErf(1-2*Pfa);
    		return soglia1;
    }}
}
